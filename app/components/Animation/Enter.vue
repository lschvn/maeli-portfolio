<template>
  <div class="animation-container">
    <svg id="head-maeli" width="453" height="339" viewBox="0 0 453 339" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path id="path1" d="M234.236 29.9783C231.738 35.552 227.696 38.8508 223.955 42.0539C220.889 44.6773 218.083 46.5639 216.021 47.8259C216.021 47.8259 211.018 43.9908 208.587 40.4321C205.497 35.8986 200.365 28.3876 202.905 24.9943C204.122 23.368 207.189 22.8078 209.454 23.7854C216.955 26.9917 215.163 46.8714 215.771 46.8442C216.034 46.828 216.078 43.2613 216.205 39.9453C216.406 34.1453 216.507 31.2371 216.87 29.115C218.082 21.8393 223.783 13.0123 229.669 13.2189C232.417 13.3099 234.852 15.4934 235.92 17.5255C238.013 21.5051 236.028 25.9812 234.235 29.9946L234.236 29.9783Z" fill="#2D2D2D"/>
      <path id="path2" d="M419.454 258.552C407.152 264.196 386.231 260.457 386.231 260.457C386.231 260.457 382.001 264.399 375.605 268.646C369.192 272.893 360.631 277.43 351.935 278.652C340.163 280.302 330.733 275.468 326.082 273.341C307.928 264.945 265.771 252.583 223.423 249.248C182.149 259.308 142.529 278.249 125.946 289.437C121.719 292.282 113.162 298.571 101.282 298.823C92.5033 299.007 83.3257 295.892 76.314 292.733C69.3196 289.558 64.5075 286.341 64.5075 286.341C64.5075 286.341 44.4642 293.398 31.4182 289.777C15.7301 285.433 1.5543 263.305 4.52796 241.305C6.09305 229.713 12.0123 221.063 17.8581 215.143C23.6876 209.223 29.4264 206.047 30.6131 205.417C36.3181 202.518 44.408 197.656 52.0093 189.62C67.5621 173.193 67.7125 157.779 76.4627 135.127C80.8292 123.809 91.442 96.2977 116.294 75.0689C126.806 66.0861 147.268 47.692 174.577 46.5284C184.074 46.1271 190.267 47.974 207.167 46.5975C224.017 45.2343 229.765 42.4358 239.175 41.325C266.304 38.0869 289.472 52.9874 301.277 60.1814C329.213 77.183 344.097 102.647 350.207 113.102C362.456 134.078 365.074 149.257 383.072 162.981C391.86 169.69 400.634 173.223 406.724 175.145C407.992 175.568 414.177 177.808 420.883 182.7C427.587 187.624 434.812 195.202 438.222 206.387C444.684 227.653 434.237 251.753 419.454 258.552Z" fill="#2D2D2D" stroke="#9EA8AF" stroke-width="1.76205" stroke-miterlimit="10"/>
      <path id="path3" d="M55.37 288.844C59.6366 288.228 68.8691 286.304 77.1639 278.966C79.1254 277.223 94.0219 264.194 90.5275 247.846C89.0467 240.908 83.6963 230.878 74.6007 229.585C64.2543 228.116 55.9032 238.954 52.7799 245.88C46.6313 259.476 53.9067 272.771 55.1169 274.894C59.7518 283.012 67.1353 287.554 70.6063 289.688C74.0609 291.821 77.1884 293.164 79.4448 294.027" stroke="#9EA8AF" stroke-width="1.76205" stroke-miterlimit="10"/>
      <path id="path4" d="M396.57 261.533C391.13 261.256 383.125 259.819 373.947 254.1C373.711 253.955 373.412 253.756 373.05 253.52C368.911 250.804 355.008 240.743 355.786 225.515C356.15 218.432 359.809 207.675 368.568 204.935C378.547 201.83 388.527 211.201 392.717 217.54C400.964 229.979 395.919 244.267 395.054 246.554C391.941 254.872 385.917 260.241 382.132 263.621C378.277 267.079 374.608 269.386 371.974 270.874" stroke="#9EA8AF" stroke-width="1.76205" stroke-miterlimit="10"/>
      
      <path id="path5" d="M98.1311 215.822C97.6401 230.92 96.8909 254.55 111.143 277.289C126.972 302.568 151.986 311.837 164.526 316.474C224.916 338.841 280.686 307.261 288.53 302.662C301.156 295.253 320.029 283.865 333.498 260.709C349.171 233.777 354.066 196.606 341.684 169.661C309.076 98.7741 153.942 95.0395 113.852 155.835C99.8836 177.028 98.3365 209.433 98.1311 215.822Z" fill="#DCDCDB" stroke="#2D2D2D" stroke-width="1.76205" stroke-miterlimit="10"/>
      
      <path id="path6" d="M82.3221 179.263C81.3001 184.046 78.821 195.581 84.5342 206.616C92.9184 222.862 113.101 226.621 117.102 227.364C139.957 231.618 158.981 219.912 174.174 210.258C195.476 196.731 241.912 160.355 233.006 132.09C228.73 118.525 211.896 107.396 202.926 111.138C195.74 114.141 193.571 126.727 194.004 135.22C195.749 168.945 241.646 197.932 281.405 204.134C292.846 205.918 308.488 208.131 324.479 199.836C339.082 192.257 352.905 176.491 353.957 161.591C356.589 124.457 281.688 69.6575 208.163 76.346C134.227 83.0578 88.6682 149.502 82.2894 179.261L82.3221 179.263Z" fill="#2D2D2D"/>
      
      <path id="path7" d="M81.7781 179.311C80.6616 183.514 78.1579 195.179 83.9903 206.663C92.2286 222.884 110.792 226.328 116.558 227.411C139.413 231.666 158.437 219.96 173.63 210.305C194.932 196.778 241.368 160.403 232.462 132.138C228.186 118.573 211.352 107.444 202.382 111.186C195.196 114.189 193.027 126.775 193.46 135.267C195.205 168.993 241.102 197.98 280.861 204.182C292.983 206.074 308.171 208.209 323.935 199.884C344.802 188.851 351.759 167.364 353.413 161.639" stroke="#9EA8AF" stroke-width="1.76205" stroke-miterlimit="10"/>
      
      <path id="path8" d="M216.259 262.322L237.496 280.31" stroke="#2D2D2D" stroke-width="1.76205" stroke-miterlimit="10"/>
      <path id="path9" d="M219.109 282.919L229.499 263.908" stroke="#2D2D2D" stroke-width="1.76205" stroke-miterlimit="10"/>
      
      <path id="path10" d="M185.714 272.959C175.385 283.983 156.77 280.831 146.544 276.405C143.976 275.294 126.538 267.762 125.791 254.108C125.751 253.451 125.473 246.147 130.417 241.022C144.107 226.852 188.407 239.267 191.673 257.435C193.057 265.119 186.751 271.845 185.715 272.942L185.714 272.959Z" fill="#DCDCDB" stroke="#2D2D2D" stroke-width="1.76205" stroke-miterlimit="10"/>
      <path id="path11" d="M154.912 241.368C148.832 245.013 145.895 252.885 146.014 259.589C146.194 268.966 152.405 277.036 159.951 280.049C174.513 285.877 192.796 272.422 193.113 261.39C193.484 248.199 168.347 233.322 154.895 241.367L154.912 241.368Z" fill="#2D2D2D"/>
      
      <path id="path12" d="M154.413 225.601C153.367 227.124 159.686 230.354 165.74 231.799C170.18 232.864 177.035 233.558 178.184 232.222C179.334 230.886 174.753 227.634 169.61 226.033C163.582 224.164 155.424 224.126 154.396 225.617L154.413 225.601Z" fill="#2D2D2D"/>
      <path id="path13" d="M157.183 286.539L159.874 295.075" stroke="#2D2D2D" stroke-width="1.76205" stroke-miterlimit="10" stroke-linecap="round"/>
      <path id="path14" d="M163.827 288.496L166.519 297.016" stroke="#2D2D2D" stroke-width="1.76205" stroke-miterlimit="10" stroke-linecap="round"/>
      
      <path id="path15" d="M128.64 232.543C130.591 234.353 132.541 236.178 134.508 237.989" stroke="#2D2D2D" stroke-width="1.76205" stroke-miterlimit="10"/>
      
      <path id="path16" d="M259.632 260.04C270.595 270.456 288.986 266.226 298.935 261.236C301.439 259.985 318.412 251.458 318.371 237.783C318.363 237.128 318.233 229.817 312.999 224.985C298.517 211.629 255.018 226.576 252.784 244.889C251.838 252.64 258.534 258.989 259.632 260.04Z" fill="#DCDCDB" stroke="#2D2D2D" stroke-width="1.76205" stroke-miterlimit="10"/>
      <path id="path17" d="M285.976 210.922C287.165 212.094 282.162 215.545 278.155 217.504C272.372 220.349 264.049 222.396 262.552 221.189C261.18 220.071 265.602 216.206 270.552 213.849C276.448 211.043 284.696 209.663 285.961 210.905L285.976 210.922Z" fill="#2D2D2D"/>
      <path id="path18" d="M292 271.459L290.705 280.318" stroke="#2D2D2D" stroke-width="1.76205" stroke-miterlimit="10" stroke-linecap="round"/>
      <path id="path19" d="M285.748 274.455L284.454 283.297" stroke="#2D2D2D" stroke-width="1.76205" stroke-miterlimit="10" stroke-linecap="round"/>
      <path id="path20" d="M315.764 230.005C320.393 239.008 314.306 251.887 305.502 257.932C304.132 258.878 294.079 265.761 284.758 261.015C276.216 256.663 275.278 246.305 275.214 245.498C274.429 234.79 283.02 227.962 284.657 226.673C286.244 225.414 294.387 218.934 304.393 221.643C305.633 221.984 312.581 223.812 315.764 230.005Z" fill="#2D2D2D"/>
      <path id="path21" d="M318.574 218.164C316.759 219.932 314.943 221.701 313.144 223.471" stroke="#2D2D2D" stroke-width="1.76205" stroke-miterlimit="10"/>
      
      <path id="path22" d="M123.556 254.56C125.723 252.407 137.802 240.832 156.433 241.247C178.721 241.758 191.252 259.001 192.571 260.884" fill="#DCDCDB" opacity="0"/>
      <path id="path23" d="M123.556 254.56C125.723 252.407 137.802 240.832 156.433 241.247C178.721 241.758 191.252 259.001 192.571 260.884" stroke="#2D2D2D" stroke-width="2.55399" stroke-miterlimit="10" opacity="0"/>
      <path id="path24" d="M126.335 241.963C128.496 243.608 130.644 245.256 132.806 246.901" stroke="#2D2D2D" stroke-width="2.55399" stroke-miterlimit="10" opacity="0"/>
    </svg>
    <h1 id="name-text">
      <template v-for="(char, index) in name" :key="index">
        <br v-if="char === ' '" />
        <span v-else>{{ char }}</span>
      </template>
    </h1>
  </div>
</template>
<script setup lang="ts">
import { gsap } from 'gsap'

const emit = defineEmits(['complete'])
const name = 'Maëli Grégori'

onMounted(() => {
  const tl = gsap.timeline()

  gsap.set("#head-maeli", {
    opacity: 0,
    position: "absolute",
    left: "50%",
    top: "50%",
    xPercent: -50,
    yPercent: -50
  })

  gsap.set("#name-text", {
    opacity: 0,
    position: "absolute",
    left: "50%", 
    top: "50%",
    xPercent: -50,
    yPercent: -50,
    fontSize: "3.5em",
    color: "white",
    letterSpacing: "0.15em",
    fontWeight: 300
  })

  gsap.set("#name-text span", {
    display: "inline-block",
    opacity: 0,
    y: 20
  })

  tl.to("#head-maeli", { duration: 1, opacity: 1 })
    .to(["#path10", "#path11", "#path15"], { duration: 0.25, opacity: 0 })
    .to(["#path22", "#path23", "#path24"], { duration: 0.25, opacity: 1 }, "<")
    .to("#head-maeli", {
      delay: 0.25,
      duration: 0.75,
      scale: 400,
      ease: "power2.inOut"
    })
    .to("#name-text", { duration: 0.1, opacity: 1 })
    .to("#name-text span", {
      duration: 0.5,
      opacity: 1,
      y: 0,
      stagger: 0.03,
      ease: "power2.out"
    })
    .to("#name-text", {
      duration: 0.4,
      opacity: 0,
      y: -20,
      ease: "power2.in",
      onComplete: () => {
        emit('complete')
      }
    })
  .to("#head-maeli", { duration: 0.5, opacity: 0 }, "<")
})
</script>
<style>
.animation-container {
  position: relative;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  transform-origin: top left;
}
</style>
